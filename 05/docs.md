### TSP 問題の近似解を探す

1. 遺伝的アルゴリズムで全体に対して最適解を探す  
   a. ランダムに一定数の経路を生成し、適応度を計算  
   b. ルーレット法で親となる経路を 2 つ選び、交叉によって子経路を作成  
   c. 生成された子経路に対して一定の確率で突然変異を起こす  
   d. 新しい経路の総距離を計算し、全ての経路の適応度を更新  
   e. 適応度が低い個体を削除し、世代を交代する(2-5 を繰り返す)  
   f. 一定回数世代を交代したら、その時点で 1 番適応度が高いものを最短経路とする

-   パラメータと乱数によって最短経路がだいぶ左右される
-   遺伝アルゴリズムだけでは長い経路が出力されてしまう(input6 で 130 万弱)
-   visualizar で確認すると path がだいぶ交差している

2. 見つかった解に対して 2-opt 法で局所的最適解に改善する
    - 任意の 2 つの path に対し、今の繋ぎ方と逆の node で繋ぎ直す場合でより短い経理を選んで繋ぎ直す

-   結果
    | Challenge 0 | Challenge 1 | Challenge 2 | Challenge 3 | Challenge 4 | Challenge 5 | Challenge 6 |
    | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |
    | 3,291.62 | 3,778.71 | 4,494.41 | 9,346.32 | 11,482.20 | 23,311.19 | 44,648.50 |

-   改善案

    -   初期経路をランダムではなくて貪欲法などで生成する
    -   ルーレット法ではなく別の方法でやる
    -   交叉方法を変更する
    -   mutation 方法を変更する
    -   ルーレットの weights を fitness の 2,1/2 乗とかにしてみる
    -   crossover が真ん中ばっかり固定される → 両端が固定される場合も作る
    -   crossover で固定してない方の親の成分きちんと遺伝してない場合がある(固定部分に入っててスキップしてる時)

-   モンテカルロでもできそう
    今いる場所から次の場所に対してそこからの path をランダムで作って距離計算、一番短い場所に進む
